<div class="page-header">
    <div class="page-header-title">
        <h1>üìú {{t .Lang "certs_title"}}</h1>
        <span class="badge">{{.Stats.total}} {{t .Lang "certs_count"}}</span>
    </div>
</div>

<!-- Stats -->
<div class="stats-bar">
    <div class="stat-item stat-success">
        <span class="stat-value">{{.Stats.valid}}</span>
        <span class="stat-label">{{t .Lang "certs_valid"}}</span>
    </div>
    <div class="stat-item stat-warning">
        <span class="stat-value">{{.Stats.expiring}}</span>
        <span class="stat-label">{{t .Lang "certs_expiring"}}</span>
    </div>
    <div class="stat-item stat-danger">
        <span class="stat-value">{{.Stats.critical}}</span>
        <span class="stat-label">{{t .Lang "certs_critical"}}</span>
    </div>
    <div class="stat-item stat-error">
        <span class="stat-value">{{.Stats.expired}}</span>
        <span class="stat-label">{{t .Lang "certs_expired"}}</span>
    </div>
</div>

<!-- Certificates List -->
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th>{{t .Lang "status"}}</th>
                <th>{{t .Lang "certs_domain"}}</th>
                <th>{{t .Lang "certs_issuer"}}</th>
                <th>{{t .Lang "valid_from"}}</th>
                <th>{{t .Lang "certs_expires"}}</th>
                <th>{{t .Lang "certs_days_left"}}</th>
                <th>{{t .Lang "actions"}}</th>
            </tr>
        </thead>
        <tbody id="certificates-list">
            {{if .Certificates}}
                {{range .Certificates}}
                <tr class="cert-row cert-{{.Status}}">
                    <td>
                        <span class="cert-status-icon">{{.StatusIcon}}</span>
                    </td>
                    <td>
                        <strong>{{.Domain}}</strong>
                    </td>
                    <td>{{.Issuer}}</td>
                    <td>{{.NotBefore.Format "2006-01-02"}}</td>
                    <td>{{.NotAfter.Format "2006-01-02"}}</td>
                    <td>
                        <span class="{{.StatusClass}}">
                            {{if lt .DaysLeft 0}}
                                {{t $.Lang "certs_expired"}}
                            {{else if eq .DaysLeft 0}}
                                {{t $.Lang "today"}}
                            {{else}}
                                {{.DaysLeft}} {{t $.Lang "days"}}
                            {{end}}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-sm btn-danger"
                                hx-delete="/certificates/{{.Domain}}"
                                hx-confirm="{{t $.Lang "certs_confirm_delete"}} {{.Domain}}?">
                            üîÑ {{t $.Lang "certs_force_renew"}}
                        </button>
                    </td>
                </tr>
                {{end}}
            {{else}}
                <tr>
                    <td colspan="7" class="text-center">
                        <div class="empty-state">
                            <div class="empty-state-icon">üìú</div>
                            <h3>{{t .Lang "certs_empty_title"}}</h3>
                            <p>{{t .Lang "certs_empty_desc"}}</p>
                        </div>
                    </td>
                </tr>
            {{end}}
        </tbody>
    </table>
</div>

<div class="info-box mt-4">
    <h4>‚ÑπÔ∏è {{t .Lang "certs_about_title"}}</h4>
    <p>{{t .Lang "certs_about_desc"}}</p>
</div>
